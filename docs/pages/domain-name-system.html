<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Domain name system | The System Design Primer</title>
<meta name="generator" content="Jekyll v3.9.3">
<meta property="og:title" content="Domain name system">
<meta property="og:locale" content="en_US">
<meta name="description" content="Learn how to design large-scale systems. Prep for the system design interview.">
<meta property="og:description" content="Learn how to design large-scale systems. Prep for the system design interview.">
<link rel="canonical" href="https://phucnguyen81.github.io/system-design-primer/pages/domain-name-system.html">
<meta property="og:url" content="https://phucnguyen81.github.io/system-design-primer/pages/domain-name-system.html">
<meta property="og:site_name" content="The System Design Primer">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Domain name system">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Learn how to design large-scale systems. Prep for the system design interview.","headline":"Domain name system","url":"https://phucnguyen81.github.io/system-design-primer/pages/domain-name-system.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/system-design-primer/assets/main.css">
<link type="application/atom+xml" rel="alternate" href="https://phucnguyen81.github.io/system-design-primer/feed.xml" title="The System Design Primer">
<link rel="shortcut icon" type="image/x-icon" href="/system-design-primer/assets/favicon.ico">
<link rel="stylesheet" type="text/css" href="/system-design-primer/assets/css/custom-styles.css">
<link rel="stylesheet" type="text/css" href="/system-design-primer/assets/css/custom-mermaid.css">
</head>
<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/system-design-primer/">The System Design Primer</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
<a class="page-link" href="/system-design-primer/about/">About</a><a class="page-link" href="/system-design-primer/pages/asynchronism.html">Asynchronism</a><a class="page-link" href="/system-design-primer/pages/domain-name-system.html">Domain name system</a><a class="page-link" href="/system-design-primer/pages/federation.html">Federation</a><a class="page-link" href="/system-design-primer/">The System Design Primer</a><a class="page-link" href="/system-design-primer/images/">Original Images</a><a class="page-link" href="/system-design-primer/pages/key-value-store.html">Key value store</a><a class="page-link" href="/system-design-primer/pages/load-balancer.html">Load balancer</a><a class="page-link" href="/system-design-primer/pages/master-master-replication.html">Master-master replication</a><a class="page-link" href="/system-design-primer/pages/master-slave-replication.html">Master-slave replication</a><a class="page-link" href="/system-design-primer/pages/replication.html">Replication</a><a class="page-link" href="/system-design-primer/pages/reverse-proxy-web-server.html">Reverse Proxy (web server)</a><a class="page-link" href="/system-design-primer/pages/sharding.html">Sharding</a><a class="page-link" href="/system-design-primer/pages/sql-or-nosql.html">SQL or NoSQL</a><a class="page-link" href="/system-design-primer/solutions/system_design/mint/">Design Mint.com</a><a class="page-link" href="/system-design-primer/solutions/system_design/pastebin/">Design Pastebin.com</a><a class="page-link" href="/system-design-primer/solutions/system_design/query_cache/">Design a key-value cache to save the results of the most recent web server queries</a><a class="page-link" href="/system-design-primer/solutions/system_design/sales_rank/">Design Amazon’s sales rank by category feature</a><a class="page-link" href="/system-design-primer/solutions/system_design/scaling_aws/">Design a system that scales to millions of users on AWS</a><a class="page-link" href="/system-design-primer/solutions/system_design/social_graph/">Design the data structures for a social network</a><a class="page-link" href="/system-design-primer/solutions/system_design/twitter/">Design the Twitter timeline and search</a><a class="page-link" href="/system-design-primer/solutions/system_design/web_crawler/">Design a web crawler</a>
</div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Domain name system</h1>
  </header>

  <div class="post-content">
    <p>The original image is <a href="/images/IOyLj4i.jpg">How does DNS work?</a>
taken from the slides
<a href="http://www.slideshare.net/srikrupa5/dns-security-presentation-issa">DNS security presentation</a>.
Also see
<a href="https://dev.to/blake/dns-explained-resolution-a2i">DNS resolution explained</a>
for a more detailed explanation.</p>

<figure style="border: 1px dotted gray;">

<svg class="mermaid" id="mermaid-svg" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 609.0078125px;" viewbox="-8 -8 609.0078125 462" role="graphics-document document" aria-roledescription="flowchart-v2" xmlns:xlink="http://www.w3.org/1999/xlink"><style>#mermaid-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:2px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;stroke:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg .cluster-label text{fill:#333;}#mermaid-svg .cluster-label span,#mermaid-svg p{color:#333;}#mermaid-svg .label text,#mermaid-svg span,#mermaid-svg p{fill:#333;color:#333;}#mermaid-svg .node rect,#mermaid-svg .node circle,#mermaid-svg .node ellipse,#mermaid-svg .node polygon,#mermaid-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg .flowchart-label text{text-anchor:middle;}#mermaid-svg .node .label{text-align:center;}#mermaid-svg .node.clickable{cursor:pointer;}#mermaid-svg .arrowheadPath{fill:#333333;}#mermaid-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg .cluster text{fill:#333;}#mermaid-svg .cluster span,#mermaid-svg p{color:#333;}#mermaid-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g><marker id="flowchart-pointEnd" class="marker flowchart" viewbox="0 0 10 10" refx="10" refy="5" markerunits="userSpaceOnUse" markerwidth="12" markerheight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-pointStart" class="marker flowchart" viewbox="0 0 10 10" refx="0" refy="5" markerunits="userSpaceOnUse" markerwidth="12" markerheight="12" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-circleEnd" class="marker flowchart" viewbox="0 0 10 10" refx="11" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="flowchart-circleStart" class="marker flowchart" viewbox="0 0 10 10" refx="-1" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="flowchart-crossEnd" class="marker cross flowchart" viewbox="0 0 11 11" refx="12" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-crossStart" class="marker cross flowchart" viewbox="0 0 11 11" refx="-1" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M262.975083434466,34L249.19017369538832,39.75C235.40526395631068,45.5,207.83544447815532,57,207.83544447815532,68.5C207.83544447815532,80,235.40526395631068,91.5,249.19017369538832,97.25L262.975083434466,103" id="L-Client-DNSResolver-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Client LE-DNSResolver" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M237.18359375,133.43594848313145L205.76236979166666,139.7799570692762C174.34114583333334,146.12396565542096,111.49869791666667,158.8119828277105,89.64801400687702,170.90599141385528C67.79733009708737,183,86.93841019417475,194.5,96.50895024271846,200.25L106.07949029126213,206" id="L-DNSResolver-DNSCache-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-DNSResolver LE-DNSCache" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M162.67050970873785,206L172.24104975728156,200.25C181.81158980582526,194.5,200.95266990291262,183,219.86129020024273,171.5C238.76991049757282,160,257.44607099514565,148.5,266.78415124393206,142.75L276.12223149271847,137" id="L-DNSCache-DNSResolver-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-DNSCache LE-DNSResolver" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M344.485854065534,103L358.2707638046117,97.25C372.05567354368935,91.5,399.6254930218447,80,399.6254930218447,68.5C399.6254930218447,57,372.05567354368935,45.5,358.2707638046117,39.75L344.485854065534,34" id="L-DNSResolver-Client-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-DNSResolver LE-Client" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M331.33870600728153,137L340.67678625606794,142.75C350.01486650485435,148.5,368.6910270024271,160,384.69760694781553,171.5C400.70418689320394,183,414.04118628640776,194.5,420.7096859830097,200.25L427.37818567961165,206" id="L-DNSResolver-RootServer-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-DNSResolver LE-RootServer" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M423.0417930825243,240L414.90657236043694,245.75C406.7713516383495,251.5,390.50091019417476,263,390.50091019417476,274.5C390.50091019417476,286,406.7713516383495,297.5,414.9065723604369,303.25L423.0417930825243,309" id="L-RootServer-TLDServer-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-RootServer LE-TLDServer" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M426.88948725728153,343L420.05569250606794,348.75C413.22189775485435,354.5,399.5543082524271,366,399.5543082524271,377.5C399.5543082524271,389,413.22189775485435,400.5,420.05569250606794,406.25L426.88948725728153,412" id="L-TLDServer-AuthoritativeDNSServer-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-TLDServer LE-AuthoritativeDNSServer" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M467.29801274271847,412L474.13180749393206,406.25C480.96560224514565,400.5,494.6331917475729,389,494.6331917475729,377.5C494.6331917475729,366,480.96560224514565,354.5,474.13180749393206,348.75L467.29801274271847,343" id="L-AuthoritativeDNSServer-TLDServer-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-AuthoritativeDNSServer LE-TLDServer" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M471.1457069174757,309L479.28092763956306,303.25C487.4161483616505,297.5,503.68658980582524,286,503.68658980582524,274.5C503.68658980582524,263,487.4161483616505,251.5,479.2809276395631,245.75L471.1457069174757,240" id="L-TLDServer-RootServer-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-TLDServer LE-RootServer" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M466.80931432038835,206L473.4778140169903,200.25C480.14631371359224,194.5,493.48331310679606,183,477.3946513450647,171.4791855000545C461.3059895833333,159.958371000109,415.7916666666667,148.416742000218,393.0345052083333,142.6459275002725L370.27734375,136.875113000327" id="L-RootServer-DNSResolver-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-RootServer LE-DNSResolver" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(180.265625, 68.5)"><g class="label" transform="translate(-87.78125, -9.5)"><foreignobject width="175.5625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">ask for www.google.com</span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(48.65625, 171.5)"><g class="label" transform="translate(-48.65625, -9.5)"><foreignobject width="97.3125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">is it in cache?</span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(220.09375, 171.5)"><g class="label" transform="translate(-102.78125, -9.5)"><foreignobject width="205.5625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">not in cache, ask root server</span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(427.1953125, 68.5)"><g class="label" transform="translate(-139.1484375, -9.5)"><foreignobject width="278.296875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">www.google.com. is at 142.251.220.46</span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(387.3671875, 171.5)"><g class="label" transform="translate(-44.4921875, -9.5)"><foreignobject width="88.984375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">ask for .com</span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(374.23046875, 274.5)"><g class="label" transform="translate(-70.765625, -9.5)"><foreignobject width="141.53125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">ask for google.com?</span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(385.88671875, 377.5)"><g class="label" transform="translate(-47.453125, -9.5)"><foreignobject width="94.90625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">ask for www?</span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(508.30078125, 377.5)"><g class="label" transform="translate(-54.9609375, -9.5)"><foreignobject width="109.921875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">142.251.220.46</span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(519.95703125, 274.5)"><g class="label" transform="translate(-54.9609375, -9.5)"><foreignobject width="109.921875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">142.251.220.46</span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(506.8203125, 171.5)"><g class="label" transform="translate(-54.9609375, -9.5)"><foreignobject width="109.921875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">142.251.220.46</span></div></foreignobject></g></g></g><g class="nodes"><g class="node default default flowchart-label" id="flowchart-Client-0" transform="translate(303.73046875, 17)"><rect class="basic label-container" style="" rx="0" ry="0" x="-55.0390625" y="-17" width="110.078125" height="34"></rect><g class="label" style="" transform="translate(-47.5390625, -9.5)"><rect></rect><foreignobject width="95.078125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Client Device</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-DNSCache-1" transform="translate(134.375, 223)"><rect class="basic label-container" style="" rx="0" ry="0" x="-66.734375" y="-17" width="133.46875" height="34"></rect><g class="label" style="" transform="translate(-59.234375, -9.5)"><rect></rect><foreignobject width="118.46875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Local DNS Cache</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-DNSResolver-2" transform="translate(303.73046875, 120)"><rect class="basic label-container" style="" rx="0" ry="0" x="-66.546875" y="-17" width="133.09375" height="34"></rect><g class="label" style="" transform="translate(-59.046875, -9.5)"><rect></rect><foreignobject width="118.09375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">ISP DNS Resolver</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-RootServer-3" transform="translate(447.09375, 223)"><rect class="basic label-container" style="" rx="0" ry="0" x="-70.328125" y="-17" width="140.65625" height="34"></rect><g class="label" style="" transform="translate(-62.828125, -9.5)"><rect></rect><foreignobject width="125.65625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">. DNS Root Server</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-TLDServer-4" transform="translate(447.09375, 326)"><rect class="basic label-container" style="" rx="0" ry="0" x="-89.046875" y="-17" width="178.09375" height="34"></rect><g class="label" style="" transform="translate(-81.546875, -9.5)"><rect></rect><foreignobject width="163.09375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">.com TLD Name Server</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-AuthoritativeDNSServer-5" transform="translate(447.09375, 429)"><rect class="basic label-container" style="" rx="0" ry="0" x="-145.9140625" y="-17" width="291.828125" height="34"></rect><g class="label" style="" transform="translate(-138.4140625, -9.5)"><rect></rect><foreignobject width="276.828125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">google.com Authoritative Name Server</span></div></foreignobject></g></g></g></g></g><style>@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css");</style></svg>

  <figcaption style="text-align: center; border: 1px dotted blue;">How does DNS work?</figcaption>
</figure>

<p>A Domain Name System (DNS) translates a domain name such as www.example.com to an IP address.</p>

<p>DNS is hierarchical, with a few authoritative servers at the top level. Your router or ISP provides information about which DNS server(s) to contact when doing a lookup. Lower level DNS servers cache mappings, which could become stale due to DNS propagation delays. DNS results can also be cached by your browser or OS for a certain period of time, determined by the <a href="https://en.wikipedia.org/wiki/Time_to_live">time to live (TTL)</a>.</p>

<figure style="border: 1px dotted gray;">

<svg class="mermaid" id="mermaid-svg" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 533.203125px;" viewbox="-8 -8 533.203125 502" role="graphics-document document" aria-roledescription="flowchart-v2" xmlns:xlink="http://www.w3.org/1999/xlink"><style>#mermaid-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:2px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;stroke:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg .cluster-label text{fill:#333;}#mermaid-svg .cluster-label span,#mermaid-svg p{color:#333;}#mermaid-svg .label text,#mermaid-svg span,#mermaid-svg p{fill:#333;color:#333;}#mermaid-svg .node rect,#mermaid-svg .node circle,#mermaid-svg .node ellipse,#mermaid-svg .node polygon,#mermaid-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg .flowchart-label text{text-anchor:middle;}#mermaid-svg .node .label{text-align:center;}#mermaid-svg .node.clickable{cursor:pointer;}#mermaid-svg .arrowheadPath{fill:#333333;}#mermaid-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg .cluster text{fill:#333;}#mermaid-svg .cluster span,#mermaid-svg p{color:#333;}#mermaid-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g><marker id="flowchart-pointEnd" class="marker flowchart" viewbox="0 0 10 10" refx="10" refy="5" markerunits="userSpaceOnUse" markerwidth="12" markerheight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-pointStart" class="marker flowchart" viewbox="0 0 10 10" refx="0" refy="5" markerunits="userSpaceOnUse" markerwidth="12" markerheight="12" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-circleEnd" class="marker flowchart" viewbox="0 0 10 10" refx="11" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="flowchart-circleStart" class="marker flowchart" viewbox="0 0 10 10" refx="-1" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="flowchart-crossEnd" class="marker cross flowchart" viewbox="0 0 11 11" refx="12" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-crossStart" class="marker cross flowchart" viewbox="0 0 11 11" refx="-1" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"><g class="cluster default flowchart-label" id="ThirdLevel"><rect style="" rx="0" ry="0" x="28.9296875" y="402" width="216.6875" height="84"></rect><g class="cluster-label" transform="translate(64.6015625, 402)"><foreignobject width="145.34375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Third Level Domains</span></div></foreignobject></g></g><g class="cluster default flowchart-label" id="SecondLevel"><rect style="" rx="0" ry="0" x="0" y="268" width="517.203125" height="84"></rect><g class="cluster-label" transform="translate(179.5, 268)"><foreignobject width="158.203125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Second Level Domains</span></div></foreignobject></g></g><g class="cluster default flowchart-label" id="TopLevel"><rect style="" rx="0" ry="0" x="88.29296875" y="134" width="418.640625" height="84"></rect><g class="cluster-label" transform="translate(215.53515625, 134)"><foreignobject width="164.15625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Top Level Domains TLD</span></div></foreignobject></g></g><g class="cluster default flowchart-label" id="Root"><rect style="" rx="0" ry="0" x="208.26171875" y="0" width="265.8984375" height="84"></rect><g class="cluster-label" transform="translate(325.1171875, 0)"><foreignobject width="32.1875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Root</span></div></foreignobject></g></g></g><g class="edgePaths"><path d="M314.7470238095238,59L303.6661396329365,63.166666666666664C292.5852554563492,67.33333333333333,270.42348710317464,75.66666666666667,259.3426029265873,84C248.26171875,92.33333333333333,248.26171875,100.66666666666667,248.26171875,109C248.26171875,117.33333333333333,248.26171875,125.66666666666667,248.26171875,134C248.26171875,142.33333333333334,248.26171875,150.66666666666666,248.26171875,154.83333333333334L248.26171875,159" id="L-root-dotcom-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-root LE-dotcom" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M354.0879836309524,59L352.6494915674603,63.166666666666664C351.21099950396825,67.33333333333333,348.3340153769841,75.66666666666667,346.89552331349205,84C345.45703125,92.33333333333333,345.45703125,100.66666666666667,345.45703125,109C345.45703125,117.33333333333333,345.45703125,125.66666666666667,345.45703125,134C345.45703125,142.33333333333334,345.45703125,150.66666666666666,345.45703125,154.83333333333334L345.45703125,159" id="L-root-dotorg-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-root LE-dotorg" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M392.2178199404762,59L400.12487599206344,63.166666666666664C408.0319320436508,67.33333333333333,423.84604414682536,75.66666666666667,431.7531001984127,84C439.66015625,92.33333333333333,439.66015625,100.66666666666667,439.66015625,109C439.66015625,117.33333333333333,439.66015625,125.66666666666667,439.66015625,134C439.66015625,142.33333333333334,439.66015625,150.66666666666666,439.66015625,154.83333333333334L439.66015625,159" id="L-root-dotnet-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-root LE-dotnet" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M222.92578125,185.69127325767548L208.84830729166666,191.0760610480629C194.77083333333334,196.4608488384503,166.61588541666666,207.23042441922516,152.53841145833334,216.78187887627925C138.4609375,226.33333333333334,138.4609375,234.66666666666666,138.4609375,243C138.4609375,251.33333333333334,138.4609375,259.6666666666667,138.4609375,268C138.4609375,276.3333333333333,138.4609375,284.6666666666667,138.4609375,288.8333333333333L138.4609375,293" id="L-dotcom-google-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-dotcom LE-google" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M273.59765625,183.66645090479273L292.5084635416667,189.38870908732727C311.4192708333333,195.11096726986182,349.2408854166667,206.55548363493094,368.1516927083333,216.44440848413214C387.0625,226.33333333333334,387.0625,234.66666666666666,387.0625,243C387.0625,251.33333333333334,387.0625,259.6666666666667,387.0625,268C387.0625,276.3333333333333,387.0625,284.6666666666667,387.0625,288.8333333333333L387.0625,293" id="L-dotcom-apple-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-dotcom LE-apple" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M118.55803571428572,327L113.67987351190477,331.1666666666667C108.80171130952381,335.3333333333333,99.04538690476191,343.6666666666667,94.16722470238096,352C89.2890625,360.3333333333333,89.2890625,368.6666666666667,89.2890625,377C89.2890625,385.3333333333333,89.2890625,393.6666666666667,89.2890625,402C89.2890625,410.3333333333333,89.2890625,418.6666666666667,89.2890625,422.8333333333333L89.2890625,427" id="L-google-www-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-google LE-www" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M158.36383928571428,327L163.2420014880952,331.1666666666667C168.12016369047618,335.3333333333333,177.87648809523807,343.6666666666667,182.75465029761904,352C187.6328125,360.3333333333333,187.6328125,368.6666666666667,187.6328125,377C187.6328125,385.3333333333333,187.6328125,393.6666666666667,187.6328125,402C187.6328125,410.3333333333333,187.6328125,418.6666666666667,187.6328125,422.8333333333333L187.6328125,427" id="L-google-mail-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-google LE-mail" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g class="node default default flowchart-label" id="flowchart-www-6" transform="translate(89.2890625, 444)"><rect class="basic label-container" style="" rx="0" ry="0" x="-25.359375" y="-17" width="50.71875" height="34"></rect><g class="label" style="" transform="translate(-17.859375, -9.5)"><rect></rect><foreignobject width="35.71875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">www</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-mail-7" transform="translate(187.6328125, 444)"><rect class="basic label-container" style="" rx="0" ry="0" x="-22.984375" y="-17" width="45.96875" height="34"></rect><g class="label" style="" transform="translate(-15.484375, -9.5)"><rect></rect><foreignobject width="30.96875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">mail</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-google-4" transform="translate(138.4609375, 310)"><rect class="basic label-container" style="" rx="0" ry="0" x="-103.4609375" y="-17" width="206.921875" height="34"></rect><g class="label" style="" transform="translate(-95.9609375, -9.5)"><rect></rect><foreignobject width="191.921875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">google managed by Google</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-apple-5" transform="translate(387.0625, 310)"><rect class="basic label-container" style="" rx="0" ry="0" x="-95.140625" y="-17" width="190.28125" height="34"></rect><g class="label" style="" transform="translate(-87.640625, -9.5)"><rect></rect><foreignobject width="175.28125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">apple managed by Apple</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-dotcom-1" transform="translate(248.26171875, 176)"><rect class="basic label-container" style="" rx="0" ry="0" x="-25.3359375" y="-17" width="50.671875" height="34"></rect><g class="label" style="" transform="translate(-17.8359375, -9.5)"><rect></rect><foreignobject width="35.671875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">.com</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-dotorg-2" transform="translate(345.45703125, 176)"><rect class="basic label-container" style="" rx="0" ry="0" x="-21.859375" y="-17" width="43.71875" height="34"></rect><g class="label" style="" transform="translate(-14.359375, -9.5)"><rect></rect><foreignobject width="28.71875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">.org</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-dotnet-3" transform="translate(439.66015625, 176)"><rect class="basic label-container" style="" rx="0" ry="0" x="-22.34375" y="-17" width="44.6875" height="34"></rect><g class="label" style="" transform="translate(-14.84375, -9.5)"><rect></rect><foreignobject width="29.6875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">.net</span></div></foreignobject></g></g><g class="node default default flowchart-label" id="flowchart-root-0" transform="translate(359.95703125, 42)"><rect class="basic label-container" style="" rx="0" ry="0" x="-51.34375" y="-17" width="102.6875" height="34"></rect><g class="label" style="" transform="translate(-43.84375, -9.5)"><rect></rect><foreignobject width="87.6875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Root servers</span></div></foreignobject></g></g></g></g></g><style>@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css");</style></svg>

  <figcaption style="text-align: center; border: 1px dotted blue;">DNS Hierarchy</figcaption>
</figure>

<ul>
  <li>
<strong>NS record (name server)</strong> - Specifies the DNS servers for your domain/subdomain.</li>
  <li>
<strong>MX record (mail exchange)</strong> - Specifies the mail servers for accepting messages.</li>
  <li>
<strong>A record (address)</strong> - Points a name to an IP address.</li>
  <li>
<strong>CNAME (canonical)</strong> - Points a name to another name or <code class="language-plaintext highlighter-rouge">CNAME</code> (example.com to www.example.com) or to an <code class="language-plaintext highlighter-rouge">A</code> record.</li>
</ul>

<p>Services such as <a href="https://www.cloudflare.com/dns/">CloudFlare</a> and <a href="https://aws.amazon.com/route53/">Route 53</a> provide managed DNS services. Some DNS services can route traffic through various methods:</p>

<ul>
  <li>
<a href="https://www.jscape.com/blog/load-balancing-algorithms">Weighted round robin</a>
    <ul>
      <li>Prevent traffic from going to servers under maintenance</li>
      <li>Balance between varying cluster sizes</li>
      <li>A/B testing</li>
    </ul>
  </li>
  <li><a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy.html#routing-policy-latency">Latency-based</a></li>
  <li><a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy.html#routing-policy-geo">Geolocation-based</a></li>
</ul>

<h2 id="disadvantages-dns">Disadvantage(s): DNS</h2>

<ul>
  <li>Accessing a DNS server introduces a slight delay, although mitigated by caching described above.</li>
  <li>DNS server management could be complex and is generally managed by <a href="http://superuser.com/questions/472695/who-controls-the-dns-servers/472729">governments, ISPs, and large companies</a>.</li>
  <li>DNS services have recently come under <a href="http://dyn.com/blog/dyn-analysis-summary-of-friday-october-21-attack/">DDoS attack</a>, preventing users from accessing websites such as Twitter without knowing Twitter’s IP address(es).</li>
</ul>

<h2 id="sources-and-further-reading">Source(s) and further reading</h2>

<ul>
  <li><a href="https://technet.microsoft.com/en-us/library/dd197427(v=ws.10).aspx">DNS architecture</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Domain_Name_System">Wikipedia</a></li>
  <li><a href="https://support.dnsimple.com/categories/dns/">DNS articles</a></li>
  <li><a href="https://dev.to/blake/dns-explained-resolution-a2i">DNS resolution explained</a></li>
</ul>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/system-design-primer/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">The System Design Primer</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">The System Design Primer</li>
<li><a class="u-email" href="mailto:phucknguyen@gmail.com">phucknguyen@gmail.com</a></li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list">
<li><a href="https://github.com/phucnguyen81"><svg class="svg-icon"><use xlink:href="/system-design-primer/assets/minima-social-icons.svg#github"></use></svg> <span class="username">phucnguyen81</span></a></li>
<li><a href="https://www.twitter.com/phucknguyen"><svg class="svg-icon"><use xlink:href="/system-design-primer/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">phucknguyen</span></a></li>
</ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Learn how to design large-scale systems. Prep for the system design interview.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
